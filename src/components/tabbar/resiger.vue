<template>
  <div class="r">
    <mt-header fixed title="注册"></mt-header>

     <div class="img">
        <!-- <img :src="pic" width="120" height="120"/> -->
     </div>

     <p class="title">游客注册</p>

      <br>

        <div class="l">

          <mt-field label="用户名" placeholder="请输入用户名" v-model="username"></mt-field>

          <br/>

          <mt-field label="密码" placeholder="请输入注册密码" v-model="password"></mt-field>

          <br/>

          <mt-field label="确认密码" placeholder="请输入确认密码" v-model="chPsw"></mt-field>
<router-link to="/login" >
          <mt-button @click="register" type="primary" size="small" class="pos">注册</mt-button>

</router-link>
        </div>
  </div>
</template>

<script>
// import vue from '../main'
export default {
  data() {
    return {
      // pic:require("../assets/1.jpg"),
      username:"",
      password:"",
      chPsw:""
    }
  },

   watch:{
    username(newVal, oldVal){
      if(newVal == ""){
        alert('用户名不能为空');
      }
    },

    password(newVal, oldVal){
      if(newVal == ""){
        alert('密码不能为空');
      }
    },

    chPsw(newVal, oldVal){
      if(newVal == ""){
        alert('确认密码不能为空');
      }
    },
  },
  methods: {
    register(){
      localStorage.setItem("username",this.username);
      if(this.password === this.chPsw){
        localStorage.setItem("password",this.password)
      }else{
        alert("用户密码和确认密码不一致!");
        return;
      }
      alert("注册成功!");
      vue.$router.push("/login")
    }
  }
};
</script>

<style lang="scss" scoped>
.r{
  width: 100vw;
  height: 100vh;
//   background: url(../assets/images/bg.jpg) no-repeat;

  .img{
  width: 100%;
  height:200px;
  display: flex;
  justify-content: center;
  align-items: center;
  img{
    border-radius: 50%;
    margin-top: 36px;
  }
}

.title{
  text-align: center;
  color:#fff
}

.l{
  margin: 30px 10px;
}

.pos{
  position: relative;
  left:20px;
  top:30px;
}
}
</style> 
